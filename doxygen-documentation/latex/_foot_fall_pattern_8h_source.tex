\hypertarget{_foot_fall_pattern_8h_source}{}\doxysection{Foot\+Fall\+Pattern.\+h}
\label{_foot_fall_pattern_8h_source}\index{src/libs/loco/include/loco/planner/FootFallPattern.h@{src/libs/loco/include/loco/planner/FootFallPattern.h}}
\mbox{\hyperlink{_foot_fall_pattern_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{trajectory_8h}{crl-\/basic/utils/trajectory.h}}>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{utils_8h}{crl-\/basic/utils/utils.h}}>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_im_guizmo_8h}{imgui\_widgets/ImGuizmo.h}}>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_legged_robot_8h}{loco/robot/LeggedRobot.h}}>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespacestd}{std}};}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacecrl_1_1loco}{crl::loco}}\ \{}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container}{SwingPhaseContainer}}\ \{}
\DoxyCodeLine{00013\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{comment}{//\ this\ is\ the\ limb\ the\ swing\ phase\ is\ applied\ to...}}
\DoxyCodeLine{00015\ \ \ \ \ std::shared\_ptr<RobotLimb>\ \mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_ac8d389446145b8b884f03883a54ddcf4}{limb}};}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{comment}{//\ keep\ track\ of\ when\ a\ contact\ should\ be\ broken\ (e.g.\ a\ foot\ lifts),\ and}}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{comment}{//\ when\ it\ should\ be\ established\ again\ -\/\ the\ swing\ phase\ is\ defined\ to\ take}}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{comment}{//\ place\ between\ these\ two\ discrete\ events...}}
\DoxyCodeLine{00020\ \ \ \ \ DynamicArray<pair<double,\ double>>\ \mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}};}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00023\ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a631285d7b5423ffaa9f7d99e50ada6ae}{SwingPhaseContainer}}(\textcolor{keyword}{const}\ std::shared\_ptr<RobotLimb>\ \&l)\ \{}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_ac8d389446145b8b884f03883a54ddcf4}{limb}}\ =\ l;}
\DoxyCodeLine{00025\ \ \ \ \ \}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_af7813dbf3bb0a064d96d1b6f97c91aac}{addSwingPhase}}(\textcolor{keywordtype}{double}\ start,\ \textcolor{keywordtype}{double}\ end)\ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ swing\ phase\ must\ end\ after\ it\ begins!}}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (start\ >=\ end)\ \{}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\textcolor{keyword}{false});}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}.push\_back(pair<double,\ double>(start,\ end));}
\DoxyCodeLine{00034\ \ \ \ \ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a4f4f5d3cb9b6dccf3afb6940716eb7aa}{clearSwingPhasesBefore}}(\textcolor{keywordtype}{double}\ t)\ \{}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}.size()\ >\ 0\ \&\&\ \mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}.front().second\ <\ t)}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}.erase(\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}.begin());}
\DoxyCodeLine{00039\ \ \ \ \ \}}
\DoxyCodeLine{00040\ \};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait}{PeriodicGait}}\ \{}
\DoxyCodeLine{00043\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{comment}{//\ this\ is\ the\ duration\ of\ the\ stride,\ in\ seconds...}}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a71a9d9632f8e3b7e17b2a602904e836b}{strideDuration}}\ =\ 1.0;}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{comment}{//\ trajectories\ that\ control\ variations\ in\ body\ motion\ trajectories,\ encoded}}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{comment}{//\ as\ a\ function\ of\ the\ stride\ phase}}
\DoxyCodeLine{00049\ \ \ \ \ \mbox{\hyperlink{classcrl_1_1_generic_trajectory}{Trajectory1D}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a9a3cb611877f81d20488757d903cf029}{bodyHeightOffset}},\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a9978e3f4964e6cb315e978e4e2954b17}{bodyForwardLeanOffset}},\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a95c956c977842102ae7c067697066d24}{bodySidewaysLeanOffset}};}
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{classcrl_1_1_generic_trajectory}{Trajectory1D}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a2532e0c18d77fc6d77929260374b8e52}{bodyPitchOffset}},\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a8408f5bb415e5e22a3cc3ec766196467}{bodyRollOffset}},\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_af377a0f81f35e2ad59389573c543f3c6}{bodyYawOffset}};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{comment}{//\ and\ the\ swing\ period\ is\ represented\ here\ relative\ to\ the\ overall\ phase\ of}}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{comment}{//\ the\ gait\ cycle...\ e.g.\ starts\ at\ 0.25\ and\ ends\ at\ 0.4,\ where\ the\ gait}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{comment}{//\ cycle\ is\ normalized\ to\ go\ from\ 0\ to\ 1.}}
\DoxyCodeLine{00055\ \ \ \ \ DynamicArray<SwingPhaseContainer>\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a06cf5ffaa32c9d74385dbb9d1823c200}{swingPhases}};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_aa9af4c5d5d0eb451d3553ccff1c15816}{PeriodicGait}}()\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a0a62d762b29d8242433ca919d620b5ff}{clearAllBodyOffsetTrajectories}}();}
\DoxyCodeLine{00060\ \ \ \ \ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a75d3be2cc6475eccf1a74ffe246bccdb}{addSwingPhaseForLimb}}(\textcolor{keyword}{const}\ std::shared\_ptr<RobotLimb>\ \&l,\ \textcolor{keywordtype}{double}\ start,\ \textcolor{keywordtype}{double}\ end)\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ following\ must\ hold\ for\ a\ swing\ phase}}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ 1)\ it\ must\ start\ before\ it\ ends}}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ 2)\ the\ interval\ (start,\ end)\ must\ have\ a\ non-\/zero\ intersection}}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ with\ (0,\ 1),\ so\ either\ end\ is\ greater\ than\ 0\ (and\ start\ can\ be\ either}}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ positive\ or\ negative),\ or\ start\ is\ less\ than\ 1\ (and\ end\ can\ be\ less}}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ than\ or\ greater\ than\ 1)\ \ 3)\ end-\/start\ must\ be\ less\ than\ or\ equal}}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ to\ 1\ (\ if\ equal\ to\ 1\ this\ means\ the\ limb\ is\ always\ in\ swing)}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(start\ <\ end))\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\textcolor{keyword}{false});}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(end\ >\ 0\ ||\ start\ <\ 1))\ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\textcolor{keyword}{false});}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(end\ -\/\ start))\ \{}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\textcolor{keyword}{false});}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ periodic\ gaits\ will\ admit\ only\ one\ swing\ phase\ per\ gait\ cycle...}}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ ls\ :\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a06cf5ffaa32c9d74385dbb9d1823c200}{swingPhases}})}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ls.limb\ ==\ l)\ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\textcolor{keyword}{false});}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a06cf5ffaa32c9d74385dbb9d1823c200}{swingPhases}}.push\_back(\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container}{SwingPhaseContainer}}(l));}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a06cf5ffaa32c9d74385dbb9d1823c200}{swingPhases}}.back().addSwingPhase(start,\ end);}
\DoxyCodeLine{00092\ \ \ \ \ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a0a62d762b29d8242433ca919d620b5ff}{clearAllBodyOffsetTrajectories}}()\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a9a3cb611877f81d20488757d903cf029}{bodyHeightOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a04d0984f1cb01bbcad5e78a8bf1e60e5}{clear}}();}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a9a3cb611877f81d20488757d903cf029}{bodyHeightOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a8431482e615b59e29e709f6f9853824d}{addKnot}}(0,\ 0);}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a9a3cb611877f81d20488757d903cf029}{bodyHeightOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a8431482e615b59e29e709f6f9853824d}{addKnot}}(1,\ 0);}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a9978e3f4964e6cb315e978e4e2954b17}{bodyForwardLeanOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a04d0984f1cb01bbcad5e78a8bf1e60e5}{clear}}();}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a9978e3f4964e6cb315e978e4e2954b17}{bodyForwardLeanOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a8431482e615b59e29e709f6f9853824d}{addKnot}}(0,\ 0);}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a9978e3f4964e6cb315e978e4e2954b17}{bodyForwardLeanOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a8431482e615b59e29e709f6f9853824d}{addKnot}}(1,\ 0);}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a95c956c977842102ae7c067697066d24}{bodySidewaysLeanOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a04d0984f1cb01bbcad5e78a8bf1e60e5}{clear}}();}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a95c956c977842102ae7c067697066d24}{bodySidewaysLeanOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a8431482e615b59e29e709f6f9853824d}{addKnot}}(0,\ 0);}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a95c956c977842102ae7c067697066d24}{bodySidewaysLeanOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a8431482e615b59e29e709f6f9853824d}{addKnot}}(1,\ 0);}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a2532e0c18d77fc6d77929260374b8e52}{bodyPitchOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a04d0984f1cb01bbcad5e78a8bf1e60e5}{clear}}();}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a2532e0c18d77fc6d77929260374b8e52}{bodyPitchOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a8431482e615b59e29e709f6f9853824d}{addKnot}}(0,\ 0);}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a2532e0c18d77fc6d77929260374b8e52}{bodyPitchOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a8431482e615b59e29e709f6f9853824d}{addKnot}}(1,\ 0);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a8408f5bb415e5e22a3cc3ec766196467}{bodyRollOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a04d0984f1cb01bbcad5e78a8bf1e60e5}{clear}}();}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a8408f5bb415e5e22a3cc3ec766196467}{bodyRollOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a8431482e615b59e29e709f6f9853824d}{addKnot}}(0,\ 0);}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a8408f5bb415e5e22a3cc3ec766196467}{bodyRollOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a8431482e615b59e29e709f6f9853824d}{addKnot}}(1,\ 0);}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_af377a0f81f35e2ad59389573c543f3c6}{bodyYawOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a04d0984f1cb01bbcad5e78a8bf1e60e5}{clear}}();}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_af377a0f81f35e2ad59389573c543f3c6}{bodyYawOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a8431482e615b59e29e709f6f9853824d}{addKnot}}(0,\ 0);}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_af377a0f81f35e2ad59389573c543f3c6}{bodyYawOffset}}.\mbox{\hyperlink{classcrl_1_1_generic_trajectory_a8431482e615b59e29e709f6f9853824d}{addKnot}}(1,\ 0);}
\DoxyCodeLine{00118\ \ \ \ \ \}}
\DoxyCodeLine{00119\ \};}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info}{ContactPhaseInfo}}\ \{}
\DoxyCodeLine{00122\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{comment}{//\ if\ inSwing\ is\ false,\ it\ must\ be\ in\ stance\ mode}}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keywordtype}{bool}\ swingMode\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{comment}{//\ this\ is\ the\ total\ length\ of\ time\ for\ the\ current\ swing\ or\ stance\ phase...}}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordtype}{double}\ contactPhaseDuration\ =\ 0;}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{comment}{//\ this\ is\ the\ amount\ of\ time\ left\ until\ this\ contact\ phase\ ends\ and\ the}}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{comment}{//\ next\ begins...}}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordtype}{double}\ timeLeft\ =\ 0;}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00137\ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_adfa77559c1494e327679b87477016ed0}{ContactPhaseInfo}}(\textcolor{keywordtype}{bool}\ swingMode,\ \textcolor{keywordtype}{double}\ contactPhaseDuration,\ \textcolor{keywordtype}{double}\ timeLeft)\ \{}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (contactPhaseDuration\ <\ 0.0001)}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ contactPhaseDuration\ =\ 0.0001;}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacecrl_a56dab36316fb80c03c458c44b222ba44}{boundToRange}}(timeLeft,\ 0,\ contactPhaseDuration);}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ this-\/>swingMode\ =\ swingMode;}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ this-\/>contactPhaseDuration\ =\ contactPhaseDuration;}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ this-\/>timeLeft\ =\ timeLeft;}
\DoxyCodeLine{00144\ \ \ \ \ \}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_ae17937237d73c86b900db125f0bb1f06}{isSwing}}()\ \{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ swingMode;}
\DoxyCodeLine{00148\ \ \ \ \ \}}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_ac9ee70e91d6a60698833f19cd628a7c8}{isStance}}()\ \{}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ !swingMode;}
\DoxyCodeLine{00152\ \ \ \ \ \}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_a38aab93d1d1554e0fa82cffcedf566dd}{getTimeLeft}}()\ \{}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ timeLeft;}
\DoxyCodeLine{00159\ \ \ \ \ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_ab031f83a084e5d49c0562ab3b1af35fb}{getDuration}}()\ \{}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ contactPhaseDuration;}
\DoxyCodeLine{00163\ \ \ \ \ \}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_a315f5f290f28964210f822da944fc52a}{getPercentageOfTimeElapsed}}()\ \{}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (contactPhaseDuration\ -\/\ timeLeft)\ /\ contactPhaseDuration;}
\DoxyCodeLine{00171\ \ \ \ \ \}}
\DoxyCodeLine{00172\ \};}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00179\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule}{ContactSchedule}}\ \{}
\DoxyCodeLine{00180\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{comment}{//\ swing\ phases\ stored\ in\ absolute\ time...}}
\DoxyCodeLine{00182\ \ \ \ \ DynamicArray<SwingPhaseContainer>\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}};}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a673ba0524d2b0d25ea45ff12d2338bf9}{addSwingPhaseForLimb}}(\textcolor{keyword}{const}\ std::shared\_ptr<RobotLimb>\ \&l,\ \textcolor{keywordtype}{double}\ start,\ \textcolor{keywordtype}{double}\ end)\ \{}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(start\ <\ end))\ \{}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\textcolor{keyword}{false});}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(end\ >\ 0\ ||\ start\ <\ 1))\ \{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\textcolor{keyword}{false});}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(end\ -\/\ start))\ \{}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\textcolor{keyword}{false});}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ lIndex\ =\ 0;}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ periodic\ gaits\ will\ admit\ only\ one\ swing\ phase\ per\ gait\ cycle...}}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ ls\ :\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}})\ \{}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ls.limb\ ==\ l)}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ lIndex++;}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (lIndex\ ==\ (\textcolor{keywordtype}{int})\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}.size())}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}.push\_back(\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container}{SwingPhaseContainer}}(l));}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ now,\ make\ sure\ that\ this\ new\ swing\ phase\ starts\ after\ the\ previous}}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ one\ has\ ended...}}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}[lIndex].swingPhases.size()\ >\ 0)\ \{}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ new\ swing\ phase\ starts\ right\ when\ the\ previous\ one\ ends,}}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ merge\ them...}}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fabs(\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}[lIndex].swingPhases.back().second\ -\/\ start)\ <\ 0.0001)\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}[lIndex].swingPhases.back().second\ =\ end;}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}[lIndex].swingPhases.back().second\ >\ start)\ \{}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(\textcolor{keyword}{false});}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}[lIndex].addSwingPhase(start,\ end);}
\DoxyCodeLine{00227\ \ \ \ \ \}}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a76c9e53f51765f4de979fa6a4150426e}{addPeriodicGaitToContactSequence}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait}{PeriodicGait}}\ \&pg,\ \textcolor{keywordtype}{double}\ startTime)\ \{}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ ls\ :\ pg.\mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a06cf5ffaa32c9d74385dbb9d1823c200}{swingPhases}})}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a673ba0524d2b0d25ea45ff12d2338bf9}{addSwingPhaseForLimb}}(ls.limb,\ startTime\ +\ ls.swingPhases.front().first\ *\ pg.\mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a71a9d9632f8e3b7e17b2a602904e836b}{strideDuration}},}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ startTime\ +\ ls.swingPhases.front().second\ *\ pg.\mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a71a9d9632f8e3b7e17b2a602904e836b}{strideDuration}});}
\DoxyCodeLine{00233\ \ \ \ \ \}}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container}{SwingPhaseContainer}}\ *\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_ad0cbb93e5fae4715059235b3b1a0f575}{getSwingPhaseContainerForLimb}}(\textcolor{keyword}{const}\ std::shared\_ptr<RobotLimb>\ \&l)\ \{}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{math_defs_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}.size();\ i++)}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}[i].limb\ ==\ l)}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}[i];}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00240\ \ \ \ \ \}}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00247\ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info}{ContactPhaseInfo}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a7f860fa96806292bf1bccbc34af4c2c9}{getContactPhaseInformation}}(\textcolor{keyword}{const}\ std::shared\_ptr<RobotLimb>\ \&l,\ \textcolor{keywordtype}{double}\ t)\ \{}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container}{SwingPhaseContainer}}\ *spc\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{math_defs_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}.size();\ i++)}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}[i].limb\ ==\ l)\ \{}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ spc\ =\ \&\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}[i];}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ we\ have\ no\ information\ for\ this\ limb,\ we\ assume\ no\ one\ gave\ it\ any}}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ swing\ phases,\ so\ it\ must\ be\ allways\ in\ stance\ then...}}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (spc\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info}{ContactPhaseInfo}}(\textcolor{keyword}{false},\ 100,\ 50);}
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ this\ limb\ has\ been\ registered\ but\ it\ has\ no\ swing\ phases\ after\ t,}}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ then\ it\ should\ be\ assumed\ it\ will\ remain\ in\ stance\ for\ the\ forseable}}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ future...}}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (spc-\/>\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}.size()\ ==\ 0)}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info}{ContactPhaseInfo}}(\textcolor{keyword}{false},\ 100,\ 50);}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ now,\ t\ might\ be\ before\ any\ of\ the\ swing\ phases\ are\ starting...}}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (spc-\/>\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}.front().first\ >\ t)}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info}{ContactPhaseInfo}}(\textcolor{keyword}{false},\ spc-\/>\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}[0].first\ -\/\ t,\ spc-\/>\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}[0].first\ -\/\ t);}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ or\ it\ could\ be\ after\ the\ last\ swing\ phase\ ends...}}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (spc-\/>\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}.back().second\ <\ t)}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info}{ContactPhaseInfo}}(\textcolor{keyword}{false},\ 100,\ 50);}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ none\ of\ the\ above\ are\ true,\ t\ must\ fall\ between\ swing\ phases,\ or}}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ within\ a\ swing\ phase...}}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ (int)spc-\/>\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}.size();\ i++)\ \{}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ see\ if\ t\ falls\ within\ a\ swing\ phase}}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (t\ >=\ spc-\/>\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}[i].first\ \&\&\ t\ <=\ spc-\/>swingPhases[i].second)}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info}{ContactPhaseInfo}}(\textcolor{keyword}{true},\ spc-\/>\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}[i].second\ -\/\ spc-\/>\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}[i].first,\ spc-\/>\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}[i].second\ -\/\ t);}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ since\ swing\ phases\ are\ sorted,\ if\ t\ is\ smaller\ than\ the\ next}}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ swing\ phase,\ it\ means\ it\ falls\ within\ a\ contact\ region...\ note:}}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ know\ that\ t\ does\ not\ start\ after\ the\ last\ swing\ phase,\ so\ the}}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ "{}i+1"{}\ here\ should\ be\ safe...}}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (t\ <=\ spc-\/>swingPhases[i\ +\ 1].first)}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info}{ContactPhaseInfo}}(\textcolor{keyword}{false},\ spc-\/>\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}[i\ +\ 1].first\ -\/\ spc-\/>\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}[i].second,\ spc-\/>\mbox{\hyperlink{classcrl_1_1loco_1_1_swing_phase_container_a8c59d71f947b882373027ccf28dc8a17}{swingPhases}}[i\ +\ 1].first\ -\/\ t);}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ all\ right,\ we\ should\ never\ get\ here...}}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ assert(\textcolor{keyword}{false});}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ but\ the\ show\ must\ go\ on...}}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info}{ContactPhaseInfo}}(\textcolor{keyword}{false},\ 100,\ 50);}
\DoxyCodeLine{00292\ \ \ \ \ \}}
\DoxyCodeLine{00293\ \};}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule}{ContactSchedule}}\ \mbox{\hyperlink{namespacecrl_1_1loco_a8b2b709b4bcacebe3ffbf7f0e7214213}{FootFallPattern}};}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager}{ContactPlanManager}}\ \{}
\DoxyCodeLine{00298\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00299\ \ \ \ \ DynamicArray<pair<double,\ double>>\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_ae69e0892dfee9ea7d97540365e6dfc45}{strideUpdates}};}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \ \ \ \ \textcolor{comment}{//\ this\ is\ the\ time\ when\ the\ last\ periodic\ ffp\ was\ added.\ When\ a\ new\ one}}
\DoxyCodeLine{00302\ \ \ \ \ \textcolor{comment}{//\ will\ be\ added,\ it\ will\ go\ from\ there...}}
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a0521958d1c1af96aecced67437199f5e}{timeStampForLastUpdate}}\ =\ 0;}
\DoxyCodeLine{00304\ \ \ \ \ \textcolor{comment}{//\ visualization\ options\ here...}}
\DoxyCodeLine{00305\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a8daef9246ea8f0cffd61572366b62958}{visTimeWindow}}\ =\ 3;}
\DoxyCodeLine{00306\ \ \ \ \ \textcolor{comment}{//\ this\ is\ the\ overall\ window\ width\ we\ want\ for\ the\ visualizer...}}
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}}\ =\ 1300;}
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ =\ 50;}
\DoxyCodeLine{00309\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a37fa836909ac732096b5c42285de283f}{drawLabels}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ \ \ \ \ \textcolor{comment}{//\ this\ is\ the\ schedule\ of\ planned\ swing\ and\ stance\ phases\ for\ all\ the}}
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{comment}{//\ limbs...}}
\DoxyCodeLine{00313\ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule}{ContactSchedule}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a9a2ddc64d49b3fbd44d4e47a7293bd6b}{cs}};}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00316\ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_ab6e709f77b38d341ef6fda895d08cb4e}{ContactPlanManager}}()\ \{\}}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a2cf2836f0f3ab1f2c50c2c0cd67c6e54}{appendPeriodicGaitToPlanningHorizon}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait}{PeriodicGait}}\ \&pg)\ \{}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a9a2ddc64d49b3fbd44d4e47a7293bd6b}{cs}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a76c9e53f51765f4de979fa6a4150426e}{addPeriodicGaitToContactSequence}}(pg,\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a0521958d1c1af96aecced67437199f5e}{timeStampForLastUpdate}});}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_ae69e0892dfee9ea7d97540365e6dfc45}{strideUpdates}}.push\_back(pair<double,\ double>(\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a0521958d1c1af96aecced67437199f5e}{timeStampForLastUpdate}},\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a0521958d1c1af96aecced67437199f5e}{timeStampForLastUpdate}}\ +\ pg.\mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a71a9d9632f8e3b7e17b2a602904e836b}{strideDuration}}));}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a0521958d1c1af96aecced67437199f5e}{timeStampForLastUpdate}}\ +=\ pg.\mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait_a71a9d9632f8e3b7e17b2a602904e836b}{strideDuration}};}
\DoxyCodeLine{00322\ \ \ \ \ \}}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a16f1723375355f7dd58c59eb33caa855}{timeUntilEndOfPlanningHorizon}}(\textcolor{keywordtype}{double}\ t)\ \{}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a0521958d1c1af96aecced67437199f5e}{timeStampForLastUpdate}}\ -\/\ t;}
\DoxyCodeLine{00326\ \ \ \ \ \}}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_ab67f4fae74640dd738c44afcd553b691}{tidyUp}}(\textcolor{keywordtype}{double}\ t)\ \{}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{math_defs_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a9a2ddc64d49b3fbd44d4e47a7293bd6b}{cs}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}.size();\ i++)}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a9a2ddc64d49b3fbd44d4e47a7293bd6b}{cs}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}[i].clearSwingPhasesBefore(t);}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_ae69e0892dfee9ea7d97540365e6dfc45}{strideUpdates}}.size()\ >\ 0\ \&\&\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_ae69e0892dfee9ea7d97540365e6dfc45}{strideUpdates}}.front().second\ <\ t)}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_ae69e0892dfee9ea7d97540365e6dfc45}{strideUpdates}}.erase(\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_ae69e0892dfee9ea7d97540365e6dfc45}{strideUpdates}}.begin());}
\DoxyCodeLine{00333\ \ \ \ \ \}}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info}{ContactPhaseInfo}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_adb7e543c91feed036ae631cf3b150ddb}{getCPInformationFor}}(\textcolor{keyword}{const}\ std::shared\_ptr<RobotLimb>\ \&limb,\ \textcolor{keywordtype}{double}\ t)\ \{}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a9a2ddc64d49b3fbd44d4e47a7293bd6b}{cs}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a7f860fa96806292bf1bccbc34af4c2c9}{getContactPhaseInformation}}(limb,\ t);}
\DoxyCodeLine{00337\ \ \ \ \ \}}
\DoxyCodeLine{00338\ }
\DoxyCodeLine{00339\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a56a9091cb6d1c824229a75658671258a}{getWindowCoord}}(\textcolor{keywordtype}{double}\ tVal,\ \textcolor{keywordtype}{double}\ tStart,\ \textcolor{keywordtype}{double}\ tEnd)\ \{}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ p\ =\ (tVal\ -\/\ tStart)\ /\ (tEnd\ -\/\ tStart);}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ +\ (float)p\ *\ (\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}});}
\DoxyCodeLine{00342\ \ \ \ \ \}}
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{comment}{//\ use\ Dear\ ImGUI\ code\ to\ visualize\ the\ contact\ schedule...}}
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a6027686a249671aac374b03dc74bc073}{visualizeContactSchedule}}(\textcolor{keywordtype}{double}\ t,\ \textcolor{keywordtype}{double}\ gridStartTime\ =\ -\/1,\ \textcolor{keywordtype}{double}\ dt\_grid\ =\ 1\ /\ 30.0,\ \textcolor{keywordtype}{int}\ nGridSteps\ =\ 30)\ \{}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ ImGui::SetNextWindowBgAlpha(1.0);}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ ImGui::Begin(\textcolor{stringliteral}{"{}Contact\ Schedule\ Visualizer"{}});}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_im_guizmo_ac1b7d4b10f60001f23e82106e435ec7e}{ImGuizmo::BeginFrame}}();}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ float\ time\_\ =\ t;}}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ ImGui::SliderFloat("{}CPM\ time"{},\ \&time\_,\ -\/10,\ 10);}}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ t\ =\ time\_;}}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ ImGui::Checkbox(\textcolor{stringliteral}{"{}draw\ labels"{}},\ \&\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a37fa836909ac732096b5c42285de283f}{drawLabels}});}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ ImGui::InputDouble("{}Time\ window"{},\ \&visTimeWindow,\ 0.5);}}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ if\ (visTimeWindow\ <\ 0.5)\ visTimeWindow\ =\ 0.5;}}
\DoxyCodeLine{00358\ }
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ if\ (ImGui::Button("{}Clean\ up\ CP"{}))}}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ tidyUp();}}
\DoxyCodeLine{00361\ }
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ is\ where\ the\ window\ screen\ starts...}}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ ImVec2\ p\ =\ ImGui::GetCursorScreenPos();}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ ImDrawList\ *draw\_list\ =\ ImGui::GetWindowDrawList();}
\DoxyCodeLine{00365\ }
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ timeStart\ =\ t\ -\/\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a8daef9246ea8f0cffd61572366b62958}{visTimeWindow}}\ *\ 0.25;}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ timeEnd\ =\ t\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a8daef9246ea8f0cffd61572366b62958}{visTimeWindow}};}
\DoxyCodeLine{00368\ }
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ is\ for\ every\ row\ which\ will\ visualize\ the\ foot\ fall\ pattern\ for}}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ one\ robot\ limb...}}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ height\ =\ ImGui::GetFrameHeight();}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ radius\ =\ height\ *\ 0.005f;}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ ImU32\ col\_bg\ =\ ImGui::GetColorU32(ImVec4(0.0f,\ 0.0f,\ 0.0f,\ 1.0f));}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ draw\_list-\/>AddRectFilled(ImVec2(p.x,\ p.y),\ ImVec2(p.x\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}}\ +\ 20,\ p.y\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a9a2ddc64d49b3fbd44d4e47a7293bd6b}{cs}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}}.size()\ *\ height),\ col\_bg);}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ ImU32\ col\_text\_gray\ =\ ImGui::GetColorU32(ImVec4(0.8f,\ 0.8f,\ 1.0f,\ 1.0f));}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ ImU32\ col\_line\ =\ ImGui::GetColorU32(ImVec4(0.7f,\ 0.7f,\ 0.7f,\ 1.0f));}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ ImU32\ col\_cursor\ =\ ImGui::GetColorU32(ImVec4(1.0f,\ 0.7f,\ 0.7f,\ 1.0f));}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ ImU32\ col\_horizon\ =\ ImGui::GetColorU32(ImVec4(0.5f,\ 0.5f,\ 0.5f,\ 1.0f));}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ ImU32\ col\_text\_dark\ =\ ImGui::GetColorU32(ImVec4(0.1f,\ 0.1f,\ 0.1f,\ 1.0f));}
\DoxyCodeLine{00381\ }
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ draw\ the\ swing\ phases\ now...}}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ rowOffset\ =\ 0;}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ lcs\ :\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a9a2ddc64d49b3fbd44d4e47a7293bd6b}{cs}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}})\ \{}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info}{ContactPhaseInfo}}\ cpi\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a9a2ddc64d49b3fbd44d4e47a7293bd6b}{cs}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a7f860fa96806292bf1bccbc34af4c2c9}{getContactPhaseInformation}}(lcs.limb,\ t);}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ sp\ :\ lcs.swingPhases)\ \{}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ start\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a56a9091cb6d1c824229a75658671258a}{getWindowCoord}}(sp.first,\ timeStart,\ timeEnd);}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ end\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a56a9091cb6d1c824229a75658671258a}{getWindowCoord}}(sp.second,\ timeStart,\ timeEnd);}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (end\ >\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ \&\&\ start\ <\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}})\ \{}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ImU32\ col\ =\ ImGui::GetColorU32(ImVec4(0.7f,\ 0.7f,\ 0.7f,\ 1.0f));}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (start\ <\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ -\/\ 5)}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ start\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ -\/\ 5;}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (end\ >\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}}\ +\ 5)}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ end\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}}\ +\ 5;}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ only\ mark\ as\ in\ swing\ the\ relevant\ one...}}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cpi.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_ae17937237d73c86b900db125f0bb1f06}{isSwing}}()\ \&\&\ sp.first\ <=\ t\ \&\&\ sp.second\ >=\ t)}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ col\ =\ ImGui::GetColorU32(ImVec4(1.0f\ -\/\ 0.3\ *\ cpi.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_a315f5f290f28964210f822da944fc52a}{getPercentageOfTimeElapsed}}(),\ 0.7f\ *\ (cpi.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_a315f5f290f28964210f822da944fc52a}{getPercentageOfTimeElapsed}}()),}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0.7f\ *\ (cpi.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_a315f5f290f28964210f822da944fc52a}{getPercentageOfTimeElapsed}}()),\ 1.0f));}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddRectFilled(ImVec2(p.x\ +\ start,\ p.y\ +\ rowOffset\ +\ height\ *\ 0.15),\ ImVec2(p.x\ +\ end,\ p.y\ +\ rowOffset\ +\ height\ *\ 0.85),\ col,}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ height\ *\ radius);}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ \ rowOffset\ +=\ height;}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ cover\ up\ the\ loose\ ends\ of\ the\ swing\ phases...}}
\DoxyCodeLine{00407\ }
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ draw\_list-\/>AddRectFilled(ImVec2(p.x,\ p.y),\ ImVec2(p.x\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}},\ p.y\ +\ rowOffset),\ col\_bg);}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ draw\_list-\/>AddRectFilled(ImVec2(p.x\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}},\ p.y),\ ImVec2(p.x\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}}\ +\ 20,\ p.y\ +\ rowOffset),}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ col\_bg);}
\DoxyCodeLine{00411\ }
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ draw\ the\ grid,\ the\ labels\ of\ the\ limbs,\ and\ the\ time\ cursor...}}
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ rowOffset\ =\ 0;}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ draw\_list-\/>AddLine(ImVec2(p.x,\ p.y\ +\ rowOffset),\ ImVec2(p.x\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}},\ p.y\ +\ rowOffset),\ col\_line);}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ lcs\ :\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a9a2ddc64d49b3fbd44d4e47a7293bd6b}{cs}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}})\ \{}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddText(ImVec2(p.x\ +\ height\ *\ 0.5,\ p.y\ +\ rowOffset\ +\ height\ *\ 0.1),\ col\_text\_gray,\ lcs.limb-\/>name.c\_str());}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \ \ \ \ rowOffset\ +=\ height;}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddLine(ImVec2(p.x,\ p.y\ +\ rowOffset),\ ImVec2(p.x\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}},\ p.y\ +\ rowOffset),\ col\_line);}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ draw\_list-\/>AddLine(ImVec2(p.x,\ p.y),\ ImVec2(p.x,\ p.y\ +\ rowOffset),\ col\_line);}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ draw\_list-\/>AddLine(ImVec2(p.x\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}},\ p.y),\ ImVec2(p.x\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}},\ p.y\ +\ rowOffset),\ col\_line);}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ draw\_list-\/>AddLine(ImVec2(p.x\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}},\ p.y),\ ImVec2(p.x\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}},\ p.y\ +\ rowOffset),\ col\_line);}
\DoxyCodeLine{00423\ }
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ s\ :\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_ae69e0892dfee9ea7d97540365e6dfc45}{strideUpdates}})\ \{}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ sVal\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a56a9091cb6d1c824229a75658671258a}{getWindowCoord}}(s.first,\ timeStart,\ timeEnd);}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sVal\ >=\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ \&\&\ sVal\ <=\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}})}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddLine(ImVec2(p.x\ +\ sVal,\ p.y\ -\/\ 5),\ ImVec2(p.x\ +\ sVal,\ p.y\ +\ rowOffset\ +\ 5),\ col\_horizon);}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00429\ }
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ show\ where\ the\ current\ moment\ in\ time\ is...}}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ cursorVal;}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (gridStartTime\ >\ -\/1)\ \{}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{im_gu_i_z_m_oquat_8cpp_afe041114e904f94b93bc8c94921ed615}{N}}\ =\ nGridSteps;}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{im_gu_i_z_m_oquat_8cpp_afe041114e904f94b93bc8c94921ed615}{N}}\ +\ 1;\ i++)\ \{}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ t\_tmp\ =\ gridStartTime\ +\ i\ *\ dt\_grid;}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (t\_tmp\ >=\ timeStart)\ \{}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cursorVal\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a56a9091cb6d1c824229a75658671258a}{getWindowCoord}}(t\_tmp,\ timeStart,\ timeEnd);}
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ ==\ 0\ ||\ i\ ==\ \mbox{\hyperlink{im_gu_i_z_m_oquat_8cpp_afe041114e904f94b93bc8c94921ed615}{N}})\ \{}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddLine(ImVec2(p.x\ +\ cursorVal,\ p.y),\ ImVec2(p.x\ +\ cursorVal,\ p.y\ +\ rowOffset),\ col\_line,\ 2);}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddCircleFilled(ImVec2(p.x\ +\ cursorVal,\ p.y\ -\/\ 5),\ 5,\ col\_line);}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddCircleFilled(ImVec2(p.x\ +\ cursorVal,\ p.y\ +\ rowOffset\ +\ 5),\ 5,\ col\_line);}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ timeTextForMPC[100];}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sprintf(timeTextForMPC,\ \textcolor{stringliteral}{"{}t\ =\ \%2.2lfs"{}},\ t\_tmp);}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddText(ImVec2(p.x\ +\ cursorVal\ -\/\ height\ /\ 2.0,\ p.y\ +\ rowOffset\ +\ height\ *\ 0.5),\ col\_text\_gray,\ timeTextForMPC);}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddLine(ImVec2(p.x\ +\ cursorVal,\ p.y),\ ImVec2(p.x\ +\ cursorVal,\ p.y\ +\ rowOffset),\ col\_line,\ 0.5);}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00451\ }
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (t\_tmp\ <=\ t\ \&\&\ t\ <\ t\_tmp\ +\ dt\_grid\ \&\&\ i\ <\ \mbox{\hyperlink{im_gu_i_z_m_oquat_8cpp_afe041114e904f94b93bc8c94921ed615}{N}})\ \{}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ cursorVal\_tmp\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a56a9091cb6d1c824229a75658671258a}{getWindowCoord}}(t,\ timeStart,\ timeEnd);}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ timeText[100];}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sprintf(timeText,\ \textcolor{stringliteral}{"{}mpc\ t\ idx:\ \%d"{}},\ i);}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddText(ImVec2(p.x\ +\ cursorVal\_tmp,\ p.y\ +\ rowOffset\ -\/\ 220),\ col\_cursor,\ timeText);}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00460\ }
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ cursorVal\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a56a9091cb6d1c824229a75658671258a}{getWindowCoord}}(t,\ timeStart,\ timeEnd);}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ draw\_list-\/>AddLine(ImVec2(p.x\ +\ cursorVal,\ p.y),\ ImVec2(p.x\ +\ cursorVal,\ p.y\ +\ rowOffset),\ col\_cursor);}
\DoxyCodeLine{00463\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ timeText[100];}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ sprintf(timeText,\ \textcolor{stringliteral}{"{}t\ =\ \%2.2lfs"{}},\ t);}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ draw\_list-\/>AddText(ImVec2(p.x\ +\ cursorVal\ -\/\ height\ /\ 2.0,\ p.y\ +\ rowOffset\ +\ height\ *\ 0.5),\ col\_cursor,\ timeText);}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ draw\_list-\/>AddCircleFilled(ImVec2(p.x\ +\ cursorVal,\ p.y\ -\/\ 5),\ 5,\ col\_cursor);}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ draw\_list-\/>AddCircleFilled(ImVec2(p.x\ +\ cursorVal,\ p.y\ +\ rowOffset\ +\ 5),\ 5,\ col\_cursor);}
\DoxyCodeLine{00468\ }
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ and\ also\ show\ here\ the\ planning\ horizon...}}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ horizonVal\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a56a9091cb6d1c824229a75658671258a}{getWindowCoord}}(\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a0521958d1c1af96aecced67437199f5e}{timeStampForLastUpdate}},\ timeStart,\ timeEnd);}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (horizonVal\ <=\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a15433c811d2e7c160017ef39e7130f9e}{labelWindowWidth}}\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_af9718f296688b8f85ec8db562a303bbd}{cpmWindowWidth}})\ \{}
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddLine(ImVec2(p.x\ +\ horizonVal,\ p.y),\ ImVec2(p.x\ +\ horizonVal,\ p.y\ +\ rowOffset),\ col\_horizon);}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ timeText[100];}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \ \ \ \ sprintf(timeText,\ \textcolor{stringliteral}{"{}t\ =\ \%2.2lfs"{}},\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a0521958d1c1af96aecced67437199f5e}{timeStampForLastUpdate}});}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddText(ImVec2(p.x\ +\ horizonVal\ -\/\ height\ /\ 2.0,\ p.y\ +\ rowOffset\ +\ height\ *\ 0.5),\ col\_horizon,\ timeText);}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddCircleFilled(ImVec2(p.x\ +\ horizonVal,\ p.y\ -\/\ 5),\ 5,\ col\_horizon);}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddCircleFilled(ImVec2(p.x\ +\ horizonVal,\ p.y\ +\ rowOffset\ +\ 5),\ 5,\ col\_horizon);}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00479\ }
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ finally\ draw\ the\ labels\ of\ the\ swing/stance\ phases...}}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ rowOffset\ =\ 0;}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a37fa836909ac732096b5c42285de283f}{drawLabels}})}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ lcs\ :\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a9a2ddc64d49b3fbd44d4e47a7293bd6b}{cs}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a553fc72f3dd88f89c49d7bbc259823a8}{cs}})\ \{}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info}{ContactPhaseInfo}}\ cpi\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a9a2ddc64d49b3fbd44d4e47a7293bd6b}{cs}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_schedule_a7f860fa96806292bf1bccbc34af4c2c9}{getContactPhaseInformation}}(lcs.limb,\ t);}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ text[100];}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cpi.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_ae17937237d73c86b900db125f0bb1f06}{isSwing}}())\ \{}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sprintf(text,\ \textcolor{stringliteral}{"{}p:\%2.0lf\%\%"{}},\ cpi.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_a315f5f290f28964210f822da944fc52a}{getPercentageOfTimeElapsed}}()\ *\ 100);}
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ labelPos\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a56a9091cb6d1c824229a75658671258a}{getWindowCoord}}(t\ +\ cpi.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_a38aab93d1d1554e0fa82cffcedf566dd}{getTimeLeft}}()\ -\/\ cpi.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_ab031f83a084e5d49c0562ab3b1af35fb}{getDuration}}(),\ timeStart,\ timeEnd);}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddText(ImVec2(p.x\ +\ labelPos\ +\ 15,\ p.y\ +\ rowOffset\ +\ height\ *\ 0.075),\ col\_text\_dark,\ text);}
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cpi.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_a38aab93d1d1554e0fa82cffcedf566dd}{getTimeLeft}}()\ <\ 10)\ \{}
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sprintf(text,\ \textcolor{stringliteral}{"{}t-\/\%2.2lfs"{}},\ cpi.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_a38aab93d1d1554e0fa82cffcedf566dd}{getTimeLeft}}());}
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ labelPos\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a56a9091cb6d1c824229a75658671258a}{getWindowCoord}}(t\ +\ cpi.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info_a38aab93d1d1554e0fa82cffcedf566dd}{getTimeLeft}}(),\ timeStart,\ timeEnd);}
\DoxyCodeLine{00494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddText(ImVec2(p.x\ +\ labelPos\ +\ 15,\ p.y\ +\ rowOffset\ +\ height\ *\ 0.075),\ col\_text\_dark,\ text);}
\DoxyCodeLine{00495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sprintf(text,\ \textcolor{stringliteral}{"{}inStance"{}});}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ labelPos\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a56a9091cb6d1c824229a75658671258a}{getWindowCoord}}(t,\ timeStart,\ timeEnd);}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ draw\_list-\/>AddText(ImVec2(p.x\ +\ labelPos\ +\ 15,\ p.y\ +\ rowOffset\ +\ height\ *\ 0.075),\ col\_text\_gray,\ text);}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rowOffset\ +=\ height;}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00503\ }
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ ImGui::End();}
\DoxyCodeLine{00505\ \ \ \ \ \}}
\DoxyCodeLine{00506\ \};}
\DoxyCodeLine{00507\ }
\DoxyCodeLine{00508\ \}\ \ \textcolor{comment}{//\ namespace\ crl::loco}}

\end{DoxyCode}
