\hypertarget{_locomotion_trajectory_planner_8h_source}{}\doxysection{Locomotion\+Trajectory\+Planner.\+h}
\label{_locomotion_trajectory_planner_8h_source}\index{src/libs/loco/include/loco/planner/LocomotionTrajectoryPlanner.h@{src/libs/loco/include/loco/planner/LocomotionTrajectoryPlanner.h}}
\mbox{\hyperlink{_locomotion_trajectory_planner_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{renderer_8h}{crl-\/basic/gui/renderer.h}}>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{trajectory_8h}{crl-\/basic/utils/trajectory.h}}>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_foot_fall_pattern_8h}{loco/planner/FootFallPattern.h}}>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_legged_robot_8h}{loco/robot/LeggedRobot.h}}>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_r_b_8h}{loco/robot/RB.h}}>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_r_b_joint_8h}{loco/robot/RBJoint.h}}>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_r_b_utils_8h}{loco/robot/RBUtils.h}}>}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacecrl_1_1loco}{crl::loco}}\ \{}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner}{LocomotionTrajectoryPlanner}}\ \{}
\DoxyCodeLine{00022\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{comment}{//this\ is\ the\ "{}current"{}\ time\ the\ planner\ holds}}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a3f7afa2578546c086dbf274325344c46}{simTime}}\ =\ 0;}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{comment}{//and\ this\ is\ the\ time\ when\ the\ current\ set\ of\ motions\ was\ generated}}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_ac667759e9d0835a01420f5c0152fc61d}{planGenerationTime}}\ =\ 0;}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \ \ std::shared\_ptr<LeggedRobot>\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a54315519ed081e5ca17042f7541e4caf}{robot}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager}{ContactPlanManager}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a366f50748ab7b0087f84d77c53a95df0}{cpm}};}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{comment}{//\ this\ is\ the\ length\ (in\ seconds)\ of\ the\ planning\ horizon\ that\ we\ are}}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{comment}{//\ considering\ here...}}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a7db5ebd61d8841046b6f6686941d1a16}{tPlanningHorizon}}\ =\ 3.0;}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{comment}{//so\ that\ we\ don't\ get\ weird\ noise/discontinuities\ at\ the\ end\ of\ the\ plan,\ we'll\ go\ a\ bit\ longer}}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_ab8baf6ef2a0bdc3b762903ea489bc0b8}{tPlanningHorizonBuffer}}\ =\ 1.0;}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{comment}{//\ high-\/level\ targets\ that\ tracking\ objectives\ will\ be\ made\ of}}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_aab79606fb4c0d5448a0993ff29abed55}{trunkHeight}}\ =\ 0.48;}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_afd6d26aa8f7950c1382f0b1c7412d529}{trunkPitch}}\ =\ 0;}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_ae8a55b4f36a1c8ed54a87147e8e2ba7c}{trunkRoll}}\ =\ 0;}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a1a162fa9b98a8693ea9def6462df7028}{trunkYaw}}\ =\ 0;}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a2c0e662762ead2bf9ed39afaf1581335}{speedForward}}\ =\ 0;}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a03c8a626c216865bb3b33da7c48b92f1}{speedSideways}}\ =\ 0;}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a4c958924c7fff15ee3aff79722211235}{turningSpeed}}\ =\ 0.0;}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_aba06f87e292caf99fcf00508e33c3e92}{stepWidthModifier}}\ =\ 0.7;}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a2e580f775f0e91da7c5489080746c57e}{targetStepHeight}}\ =\ 0.1;}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_ac84e38e2608edb7c7911570dbb53682d}{LocomotionTrajectoryPlanner}}(\textcolor{keyword}{const}\ std::shared\_ptr<LeggedRobot>\&\ bot)\ \{}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ this-\/>robot\ =\ bot;}
\DoxyCodeLine{00058\ \ \ \ \ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a45430004b0a0ed67f231f3f630342984}{\string~LocomotionTrajectoryPlanner}}()\ \{\}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a481fef0adaeb4ec8de75e7dcf0751137}{getSimTime}}()\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a3f7afa2578546c086dbf274325344c46}{simTime}};}
\DoxyCodeLine{00064\ \ \ \ \ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a76a958962164aea224b9a229b7d4d769}{advanceInTime}}(\textcolor{keywordtype}{double}\ dt)\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a3f7afa2578546c086dbf274325344c46}{simTime}}\ +=\ dt;}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a366f50748ab7b0087f84d77c53a95df0}{cpm}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_ab67f4fae74640dd738c44afcd553b691}{tidyUp}}(\mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a3f7afa2578546c086dbf274325344c46}{simTime}}\ -\/\ 2.0);}
\DoxyCodeLine{00069\ \ \ \ \ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_ab6f09b9c3cc47c1f90232ca97f317047}{appendPeriodicGaitIfNeeded}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait}{PeriodicGait}}\&\ p)\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a366f50748ab7b0087f84d77c53a95df0}{cpm}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a16f1723375355f7dd58c59eb33caa855}{timeUntilEndOfPlanningHorizon}}(\mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a3f7afa2578546c086dbf274325344c46}{simTime}})\ <\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a7db5ebd61d8841046b6f6686941d1a16}{tPlanningHorizon}}\ +\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_ab8baf6ef2a0bdc3b762903ea489bc0b8}{tPlanningHorizonBuffer}})}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a9216a949d3d60a4eb92257663965b908}{appendPeriodicGait}}(p);}
\DoxyCodeLine{00074\ \ \ \ \ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a9216a949d3d60a4eb92257663965b908}{appendPeriodicGait}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_periodic_gait}{PeriodicGait}}\&\ p)\ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ and\ add\ the\ footfall\ pattern\ to\ the\ timeline...}}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a366f50748ab7b0087f84d77c53a95df0}{cpm}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a2cf2836f0f3ab1f2c50c2c0cd67c6e54}{appendPeriodicGaitToPlanningHorizon}}(p);}
\DoxyCodeLine{00079\ \ \ \ \ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_contact_phase_info}{ContactPhaseInfo}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a6189a5b97a1e254d5cb20e65178b4a41}{getCPInformationFor}}(\textcolor{keyword}{const}\ std::shared\_ptr<RobotLimb>\&\ l,\ \textcolor{keywordtype}{double}\ t)\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a366f50748ab7b0087f84d77c53a95df0}{cpm}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_adb7e543c91feed036ae631cf3b150ddb}{getCPInformationFor}}(l,\ t);}
\DoxyCodeLine{00083\ \ \ \ \ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_adbe52244ced41295aad16c21c287be95}{visualizeContactSchedule}}(\textcolor{keywordtype}{double}\ gridStartTime\ =\ -\/1,\ \textcolor{keywordtype}{double}\ dt\_grid\ =\ 1\ /\ 30.0,\ \textcolor{keywordtype}{int}\ nGridSteps\ =\ 30)\ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a366f50748ab7b0087f84d77c53a95df0}{cpm}}.\mbox{\hyperlink{classcrl_1_1loco_1_1_contact_plan_manager_a6027686a249671aac374b03dc74bc073}{visualizeContactSchedule}}(\mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a3f7afa2578546c086dbf274325344c46}{simTime}},\ gridStartTime,\ dt\_grid,\ nGridSteps);}
\DoxyCodeLine{00087\ \ \ \ \ \}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a7db6ea25d0047b08b663c792f1cfc799}{visualizeParameters}}()\ \{\}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_ab7ae1ca1b06e8ce6418bfcd0373cdb5b}{generateTrajectoriesFromCurrentState}}(\textcolor{keywordtype}{double}\ dt\ =\ 1\ /\ 30.0)\ =\ 0;}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a3d3cf57194420a9d33435d26082f70a8}{refineCurrentMPCTrajectory}}()\ \{\}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classcrl_1_1_p3_d}{P3D}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_ae4396fa9001e4bc8bd1d47841f8146de}{getTargetLimbEEPositionAtTime}}(\textcolor{keyword}{const}\ std::shared\_ptr<RobotLimb>\&\ l,\ \textcolor{keywordtype}{double}\ t)\ =\ 0;}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classcrl_1_1_p3_d}{P3D}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a7ef8ecea3e5eb401ecdef19ef5956291}{getTargetTrunkPositionAtTime}}(\textcolor{keywordtype}{double}\ t)\ =\ 0;}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_ab11165bc1148293e613c71dd78365dba}{getTargetTrunkHeadingAtTime}}(\textcolor{keywordtype}{double}\ t)\ =\ 0;}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{structcrl_1_1loco_1_1_r_b_state}{RBState}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a23dcbc9cff7d48cc83622963d1389e1d}{getTargetTrunkState}}(\textcolor{keywordtype}{double}\ t)\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcrl_1_1loco_1_1_r_b_state}{RBState}}\ targetState;}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ targetState.\mbox{\hyperlink{structcrl_1_1loco_1_1_r_b_state_a2ceecd86298478f2ec4dc3b55124cd4f}{pos}}\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a7ef8ecea3e5eb401ecdef19ef5956291}{getTargetTrunkPositionAtTime}}(t);}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ targetState.\mbox{\hyperlink{structcrl_1_1loco_1_1_r_b_state_ac7dd6a138b889404601b8b42614fbf46}{orientation}}\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a4d65e73213e8eef19055be3d655e0fbc}{getTargetTrunkOrientationAtTime}}(t);}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ targetState;}
\DoxyCodeLine{00106\ \ \ \ \ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{namespacecrl_a6e0054d6b8b0879cd0d7f2c0c63122ce}{Quaternion}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a4d65e73213e8eef19055be3d655e0fbc}{getTargetTrunkOrientationAtTime}}(\textcolor{keywordtype}{double}\ t)\ \{}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacecrl_a97d2ee8bd0dcfe6cf8d3cbfb9e40ad92}{getRotationQuaternion}}(\mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_ab11165bc1148293e613c71dd78365dba}{getTargetTrunkHeadingAtTime}}(t),\ \mbox{\hyperlink{classcrl_1_1_v3_d}{V3D}}(0,\ 1,\ 0))\ *}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacecrl_a97d2ee8bd0dcfe6cf8d3cbfb9e40ad92}{getRotationQuaternion}}(\mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_afd6d26aa8f7950c1382f0b1c7412d529}{trunkPitch}},\ \mbox{\hyperlink{classcrl_1_1loco_1_1_r_b_globals_a5be1f31d51f0599f2bb381fba0830e03}{RBGlobals::worldUp}}.cross(\mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a54315519ed081e5ca17042f7541e4caf}{robot}}-\/>getForward()))\ *\ \mbox{\hyperlink{namespacecrl_a97d2ee8bd0dcfe6cf8d3cbfb9e40ad92}{getRotationQuaternion}}(\mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_ae8a55b4f36a1c8ed54a87147e8e2ba7c}{trunkRoll}},\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a54315519ed081e5ca17042f7541e4caf}{robot}}-\/>getForward());}
\DoxyCodeLine{00111\ \ \ \ \ \}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classcrl_1_1_v3_d}{V3D}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_aca22aa7c2bd6abb6dddc183ac043560e}{getTargetLimbEEVelocityAtTime}}(\textcolor{keyword}{const}\ std::shared\_ptr<RobotLimb>\&\ l,\ \textcolor{keywordtype}{double}\ t,\ \textcolor{keywordtype}{double}\ dt\ =\ 1\ /\ 30.0)\ \{}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1_p3_d}{P3D}}\ delta\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_ae4396fa9001e4bc8bd1d47841f8146de}{getTargetLimbEEPositionAtTime}}(l,\ t\ +\ dt)\ -\/\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_ae4396fa9001e4bc8bd1d47841f8146de}{getTargetLimbEEPositionAtTime}}(l,\ t);}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1_v3_d}{V3D}}(delta)\ /\ dt;}
\DoxyCodeLine{00116\ \ \ \ \ \}}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classcrl_1_1_v3_d}{V3D}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a1c569fd81d89b31f96a96fc4d9e5ad13}{getTargetTrunkVelocityAtTime}}(\textcolor{keywordtype}{double}\ t,\ \textcolor{keywordtype}{double}\ dt\ =\ 1\ /\ 30.0)\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcrl_1_1_p3_d}{P3D}}\ delta\ =\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a7ef8ecea3e5eb401ecdef19ef5956291}{getTargetTrunkPositionAtTime}}(t\ +\ dt)\ -\/\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a7ef8ecea3e5eb401ecdef19ef5956291}{getTargetTrunkPositionAtTime}}(t);}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcrl_1_1_v3_d}{V3D}}(delta)\ /\ dt;}
\DoxyCodeLine{00121\ \ \ \ \ \}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classcrl_1_1_v3_d}{V3D}}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_af825a5a09b3ad65577d716a060ac47a2}{getTargetTrunkAngularVelocityAtTime}}(\textcolor{keywordtype}{double}\ t,\ \textcolor{keywordtype}{double}\ dt\ =\ 1\ /\ 30.0)\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacecrl_1_1loco_ad4b1769819908066d5c65c8bdc75d8c4}{estimateAngularVelocity}}(\mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a4d65e73213e8eef19055be3d655e0fbc}{getTargetTrunkOrientationAtTime}}(t),\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a4d65e73213e8eef19055be3d655e0fbc}{getTargetTrunkOrientationAtTime}}(t\ +\ dt),\ dt);}
\DoxyCodeLine{00125\ \ \ \ \ \}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcrl_1_1loco_1_1_locomotion_trajectory_planner_a680f39aac996f83c2db0cf70c8c5e71f}{drawTrajectories}}(\mbox{\hyperlink{classcrl_1_1gui_1_1_shader}{gui::Shader}}*\ shader)\ \{\}}
\DoxyCodeLine{00128\ \};}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \}\ \ \textcolor{comment}{//\ namespace\ crl::loco}}

\end{DoxyCode}
